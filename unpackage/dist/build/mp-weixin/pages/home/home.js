(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{1974:function(t,e,n){"use strict";n.r(e);var o=n("8f60"),i=n("c282");for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("e5c5");var s=n("f0c5"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"522c4d03",null,!1,o["a"],void 0);e["default"]=a.exports},"4df9":function(t,e,n){},"531c":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("9523")),c=o(n("278c"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={components:{UpdatePackageModal:function(){n.e("commPages/UpdatePackageModal").then(function(){return resolve(n("fa9a"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isModalVisible:!1,selectedPackage:{},logisticsid:this.$store.state.logisticId,list:[{name:"待揽收",count:0},{name:"待签收",count:0}],tabsIndex:0,swiperIndex:0,swiperTop:50,swiperHeight:480,unpickedpackages:[],undeliveredpackages:[],weight:0,packsize:" "}},mounted:function(){console.log("home界面onLoad运行"),this.fetchPackages()},created:function(){console.log("home界面created运行"),this.fetchPackages()},onShow:function(){console.log("home界面onshow运行"),this.fetchPackages()},onPullDownRefresh:function(){this.fetchPackages(!0)},onReady:function(){var t=this;this.$nextTick((function(){t.updateSwiperInfo()}))},methods:{fetchPackages:function(e){var n=this,o=this.$store.state.logisticId;console.log("地区id为："),console.log(o),t.request({url:"http://139.196.211.123:8081/package/getUnpickedPackages",method:"GET",data:{logisticsId:o},success:function(e){200===e.data.code?(n.unpickedpackages=e.data.data,console.log(n.unpickedpackages[1]),n.updatePickListCount(),t.showToast({title:"获取成功",icon:"success"})):t.showToast({title:"获取失败",icon:"none"})},fail:function(){t.showToast({title:"请求失败，请检查网络",icon:"none"})},complete:function(){console.log("触发了一次网络请求，下拉刷新动画应该结束了")}}),t.request({url:"http://139.196.211.123:8081/package/getUndeliveredPackages",method:"GET",data:{logisticsId:o},success:function(e){200===e.data.code?(n.undeliveredpackages=e.data.data,console.log(n.undeliveredpackages[1]),n.updateDeliverListCount(),t.showToast({title:"获取成功",icon:"success"})):t.showToast({title:"获取失败",icon:"none"})},fail:function(){t.showToast({title:"请求失败，请检查网络",icon:"none"})},complete:function(){console.log("触发了一次网络请求，下拉刷新动画应该结束了")}})},showModal:function(t){var e=t.size.split(","),n=(0,c.default)(e,3),o=n[0],i=n[1],s=n[2];this.$store.commit("setPickupPackid",t.id),this.selectedPackage={"包裹重量":t.weight,"包裹长度":o,"包裹宽度":i,"包裹高度":s},this.isModalVisible=!0},updatePackageInfo:function(e){var n=this,o="".concat(e["包裹长度"],",").concat(e["包裹宽度"],",").concat(e["包裹高度"]);console.log("id:"+this.$store.state.packid),t.request({url:"http://139.196.211.123:8081/package/updatePackage",method:"POST",data:{packageId:this.$store.state.packid,weight:e["包裹重量"],size:o},success:function(e){200===e.data.code?(t.showToast({title:"保存成功",icon:"success"}),n.isModalVisible=!1,n.fetchPackages()):t.showToast({title:"保存失败",icon:"none"})},fail:function(){t.showToast({title:"请求失败，请检查网络",icon:"none"})}})},updatePickListCount:function(){var t=this.unpickedpackages.length;this.list=this.list.map((function(e,n){return 0===n?a(a({},e),{},{count:t}):e}))},updateDeliverListCount:function(){var t=this.undeliveredpackages.length;this.list=this.list.map((function(e,n){return 1===n?a(a({},e),{},{count:t}):e}))},toPickupPage:function(e){console.log("toPickupPage函数调用成功"),this.$store.commit("setPickupPackid",e),t.navigateTo({url:"/bizPages/pickupPacks"})},tosignupPage:function(e){console.log("toSignupPage函数调用成功"),this.$store.commit("setSignupPackid",e),t.navigateTo({url:"/bizPages/signupPacks"})},tn:function(e){t.navigateTo({url:e})},modeSwitch:function(t){this.currentModeIndex=t,this.showPassword=!1},updateSwiperInfo:function(){var e=this;this._tGetRect(".order__tabs").then((function(n){if(n)t.getSystemInfoSync();else setTimeout((function(){e.updateSwiperInfo()}),10)}))},tabsChange:function(t){console.log("标签栏值发生改变"),this.fetchPackages(),this.swiperIndex=t},swiperTransition:function(t){this.$refs.tabs.setDx(t.detail.dx)},swiperAnimationFinish:function(t){var e=t.detail.current;this.$refs.tabs.setFinishCurrent(e),this.swiperIndex=e,this.tabsIndex=e}}};e.default=u}).call(this,n("543d")["default"])},"8f60":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o}));var o={tnTabsSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-tabs-swiper/tn-tabs-swiper")]).then(n.bind(null,"c6dc"))},tnButton:function(){return Promise.all([n.e("common/vendor"),n.e("tuniao-ui/components/tn-button/tn-button")]).then(n.bind(null,"d614"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.isModalVisible=!1})},c=[]},c282:function(t,e,n){"use strict";n.r(e);var o=n("531c"),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},e5c5:function(t,e,n){"use strict";var o=n("4df9"),i=n.n(o);i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/home/home-create-component',
    {
        'pages/home/home-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("1974"))
        })
    },
    [['pages/home/home-create-component']]
]);
